# 輪播管理系統使用指南

## 概述

本系統提供了完整的輪播管理功能，允許管理員通過後台管理介面來管理前台首頁的輪播圖片、文字內容和顯示設定。

## 功能特色

- 🖼️ **輪播項目管理**: 新增、編輯、刪除輪播項目
- ⚙️ **輪播設定**: 調整自動輪播間隔、控制按鈕、指示點等
- 🎨 **動態載入**: 前台首頁自動從API載入輪播數據
- 📱 **響應式設計**: 支援各種設備尺寸
- 🔄 **即時更新**: 後台修改後前台立即生效

## 安裝設置

### 1. 設置資料庫表

執行設置腳本來創建必要的資料庫表：

```bash
cd Topics-backend/scripts/setup
php setup_carousel.php
```

或者手動執行SQL腳本：

```bash
mysql -u root -p topics_good < Topics-backend/scripts/database/create_carousel_tables.sql
```

### 2. 啟動後台API服務

```bash
cd Topics-backend/backend
python api.py
```

### 3. 訪問後台管理

1. 打開瀏覽器訪問後台管理系統
2. 使用管理員帳號登入 (預設: a/a)
3. 點擊左側選單的「頁面管理」

## 使用說明

### 輪播項目管理

#### 新增輪播項目

1. 在「輪播項目」標籤頁點擊「新增輪播項目」按鈕
2. 填寫以下資訊：
   - **標題** (必填): 輪播項目的主標題
   - **描述**: 輪播項目的描述文字
   - **圖片URL** (必填): 輪播圖片的網址
   - **按鈕文字**: 按鈕顯示的文字
   - **按鈕連結**: 按鈕點擊後的跳轉連結
   - **顯示順序**: 輪播項目的顯示順序 (數字越小越靠前)
   - **狀態**: 是否啟用此輪播項目

3. 點擊「儲存」完成新增

#### 編輯輪播項目

1. 在輪播項目列表中點擊「編輯」按鈕
2. 修改需要更新的欄位
3. 點擊「儲存」完成修改

#### 刪除輪播項目

1. 在輪播項目列表中點擊「刪除」按鈕
2. 確認刪除操作

### 輪播設定

在「輪播設定」標籤頁中可以調整：

- **自動輪播間隔**: 設定自動切換的時間間隔 (毫秒)
- **啟用自動輪播**: 是否啟用自動輪播功能
- **顯示控制按鈕**: 是否顯示左右箭頭控制按鈕
- **顯示指示點**: 是否顯示底部的圓點指示器

## API 端點

### 管理端點 (需要管理員權限)

- `GET /admin/carousel` - 獲取所有輪播項目
- `POST /admin/carousel` - 創建新的輪播項目
- `PUT /admin/carousel/{id}` - 更新指定輪播項目
- `DELETE /admin/carousel/{id}` - 刪除指定輪播項目
- `PUT /admin/carousel/settings` - 更新輪播設定

### 前台端點 (公開訪問)

- `GET /api/carousel` - 獲取前台輪播數據和設定

## 資料庫結構

### carousel_items 表

| 欄位 | 類型 | 說明 |
|------|------|------|
| id | INT | 主鍵，自動遞增 |
| title | VARCHAR(255) | 輪播標題 |
| description | TEXT | 輪播描述 |
| image_url | VARCHAR(500) | 圖片URL |
| button_text | VARCHAR(100) | 按鈕文字 |
| button_link | VARCHAR(500) | 按鈕連結 |
| display_order | INT | 顯示順序 |
| is_active | TINYINT(1) | 是否啟用 |
| created_at | TIMESTAMP | 創建時間 |
| updated_at | TIMESTAMP | 更新時間 |

### carousel_settings 表

| 欄位 | 類型 | 說明 |
|------|------|------|
| id | INT | 主鍵，固定為1 |
| auto_slide_interval | INT | 自動輪播間隔時間(毫秒) |
| enable_auto_slide | TINYINT(1) | 是否啟用自動輪播 |
| enable_controls | TINYINT(1) | 是否顯示控制按鈕 |
| enable_indicators | TINYINT(1) | 是否顯示指示點 |
| created_at | TIMESTAMP | 創建時間 |
| updated_at | TIMESTAMP | 更新時間 |

## 故障排除

### 常見問題

1. **前台輪播不顯示**
   - 檢查後台API服務是否正常運行
   - 確認資料庫表是否已創建
   - 檢查瀏覽器控制台是否有錯誤訊息

2. **無法新增輪播項目**
   - 確認已登入管理員帳號
   - 檢查必填欄位是否已填寫
   - 確認圖片URL是否有效

3. **輪播設定不生效**
   - 重新載入前台頁面
   - 檢查設定是否已儲存
   - 確認API服務是否正常

### 日誌檢查

- 後台API日誌: 查看控制台輸出
- 瀏覽器控制台: 檢查JavaScript錯誤
- 資料庫日誌: 檢查SQL執行狀況

## 技術支援

如遇到問題，請檢查：

1. 資料庫連線是否正常
2. API服務是否啟動
3. 檔案權限是否正確
4. 瀏覽器是否支援現代JavaScript功能

## 更新日誌

- **v1.0.0** - 初始版本，包含基本的輪播管理功能
- 支援輪播項目的增刪改查
- 支援輪播設定的調整
- 前台動態載入輪播數據
